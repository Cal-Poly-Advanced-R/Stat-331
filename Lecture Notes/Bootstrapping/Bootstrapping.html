<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Bootstrapping</title>
    <meta charset="utf-8" />
    <meta name="author" content="Stat 331" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Bootstrapping
### Stat 331

---


class: center, middle, invert
# Estimation and Confidence







---
# Setup


```r
library(modelr)
library(infer)
```

---
# Estimating the mean

Suppose we want to find the mean of a population, but we only have one sample, of size 100.




```r
head(my_data)
```

```
##      samples
## 1 0.02839915
## 2 0.43873585
## 3 0.92326004
## 4 0.02557109
## 5 0.46669658
## 6 0.32692183
```

---
# Estimating the mean


```r
my_data %&gt;%
  summarize(mean(samples), sd(samples))
```

```
##   mean(samples) sd(samples)
## 1     0.5088099   0.3149945
```

What do we think the true mean might be?  

How confident are we?

---
# Confidence


```r
my_test &lt;- my_data %&gt;%
  t_test(response = samples, mu = 0.5)

my_test
```

```
## # A tibble: 1 x 6
##   statistic  t_df p_value alternative lower_ci upper_ci
##       &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt;
## 1     0.280    99   0.780 two.sided      0.446    0.571
```

We are 95% confident that the true mean is between 0.446 and 0.571.

---
# Confidence

... But what does this mean?

--

![](CIs.png)


---
class: center, middle
# What assumptions did we rely on?

---
# The t distribution

![](Bootstrapping_files/figure-html/unnamed-chunk-7-1.png)&lt;!-- --&gt;


---
# Our data


```r
ggplot(my_data, aes(x = samples)) + 
  geom_histogram(aes(y = ..density..), bins = 10, fill = "white", color = "black")+
  stat_density(fill = "cornflowerblue", alpha = 0.5)
```

![](Bootstrapping_files/figure-html/unnamed-chunk-8-1.png)&lt;!-- --&gt;

---
class: center, middle
# The Central Limit Theorem!
## The sample mean is approximately Normal (t)
## As long as it's a mean of many (say &gt; 15) samples.
---
# The problem of skew


```r
skewed_data &lt;- data.frame(
  samples = rexp(1000)
)
```

![](Bootstrapping_files/figure-html/unnamed-chunk-10-1.png)&lt;!-- --&gt;

---
## Confidence


```r
my_test_2 &lt;- skewed_data %&gt;%
  t_test(response = samples)

my_test_2
```

```
## # A tibble: 1 x 6
##   statistic  t_df   p_value alternative lower_ci upper_ci
##       &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt;
## 1      32.8   999 1.03e-160 two.sided      0.919     1.04
```

---
class: center, middle
# Ask yourself...

Do you trust the t-confidence interval?

--

**YES!**  Central Limit Theorem!

--

* Is the mean the best measure of center?

--

**NO!**  The skew pulls the mean to the right.

--

* How would you make a confidence interval for the median?

--

Pull yourself up by your **bootstraps**!

---

background-image: url('bootstraps.png')

---
# Idea:

* A large enough representative sample from a population is a good approximation for the population.


![](Bootstrapping_files/figure-html/unnamed-chunk-12-1.png)&lt;!-- --&gt;

---
# Idea

* If we had **many** samples, we could compute the median of each sample and see what happens.

* But: we only have one sample. :(

* Thus:  **Re-sample** from our sample!

---
# Bootstrap it:

*(Why `replace = TRUE`?)*


```r
skewed_data %&gt;% 
  sample_n(1000, replace = TRUE)
```

```
##          samples
## 1    0.103966126
## 2    2.740480253
## 3    3.213925280
## 4    1.774761468
## 5    0.277055008
## 6    0.024541760
## 7    0.498834102
## 8    0.992551410
## 9    0.243497971
## 10   0.404353004
## 11   0.509047179
## 12   2.098082712
## 13   0.080085603
## 14   0.899949739
## 15   0.250821093
## 16   1.638750356
## 17   3.041795455
## 18   0.918151131
## 19   0.917386880
## 20   2.959523856
## 21   1.187159046
## 22   0.884565758
## 23   0.151430991
## 24   1.157567363
## 25   0.193935945
## 26   1.296669651
## 27   0.459540718
## 28   0.359646377
## 29   5.617662351
## 30   2.409361685
## 31   0.471510737
## 32   0.256572300
## 33   0.250878270
## 34   0.391137076
## 35   0.448502844
## 36   0.499537261
## 37   0.777885357
## 38   0.849405871
## 39   0.357366229
## 40   0.499537261
## 41   1.227976498
## 42   0.834568763
## 43   0.176873724
## 44   0.222569156
## 45   3.189298607
## 46   0.015243795
## 47   2.051436389
## 48   0.951720621
## 49   3.180867873
## 50   0.191468206
## 51   0.481968167
## 52   0.098783354
## 53   0.404852369
## 54   0.164717893
## 55   0.268098974
## 56   0.549741721
## 57   0.411013667
## 58   0.125740104
## 59   1.871512717
## 60   0.234312725
## 61   3.285050082
## 62   1.027051718
## 63   0.331923874
## 64   0.734665123
## 65   1.201020343
## 66   1.491227630
## 67   0.248809041
## 68   1.486285484
## 69   0.633984630
## 70   0.098783354
## 71   0.027145800
## 72   3.581715009
## 73   0.777955157
## 74   0.136102021
## 75   0.992551410
## 76   0.558596044
## 77   3.213925280
## 78   3.415127061
## 79   1.086446335
## 80   1.654724393
## 81   2.408171901
## 82   1.013876279
## 83   0.305985645
## 84   1.741067506
## 85   0.445181109
## 86   3.770661610
## 87   0.041381562
## 88   0.355342533
## 89   0.318657428
## 90   0.250821093
## 91   1.987138390
## 92   1.172184097
## 93   0.130877016
## 94   0.106000623
## 95   2.359284071
## 96   0.369892687
## 97   0.164717893
## 98   0.256739145
## 99   2.348433273
## 100  0.458812377
## 101  0.506470063
## 102  0.719431616
## 103  0.951720621
## 104  0.144346743
## 105  0.293324572
## 106  1.170035213
## 107  0.557293572
## 108  0.639994999
## 109  0.174159824
## 110  0.256739145
## 111  3.032851757
## 112  0.558596044
## 113  0.125740104
## 114  0.404852369
## 115  1.475422958
## 116  0.816184893
## 117  2.249038960
## 118  1.083347647
## 119  1.623639099
## 120  1.135169944
## 121  2.319788655
## 122  0.809628771
## 123  2.051436389
## 124  0.264913647
## 125  0.509047179
## 126  0.922215549
## 127  1.272807933
## 128  0.115285906
## 129  0.082627432
## 130  4.481939062
## 131  0.067149907
## 132  0.213408030
## 133  1.036406525
## 134  0.587379945
## 135  2.871712953
## 136  0.010014175
## 137  0.748551018
## 138  0.202040308
## 139  1.187159046
## 140  2.116026360
## 141  2.247791413
## 142  0.871857429
## 143  1.771769073
## 144  0.734995278
## 145  1.174924105
## 146  0.553840496
## 147  0.825396374
## 148  0.921192825
## 149  1.747486303
## 150  0.821053485
## 151  3.189298607
## 152  0.179275307
## 153  0.667138327
## 154  3.032851757
## 155  0.509047179
## 156  0.178141124
## 157  1.937155152
## 158  2.818195567
## 159  0.468365050
## 160  1.046141325
## 161  0.015243795
## 162  0.244398194
## 163  0.264913647
## 164  3.661627957
## 165  1.027051718
## 166  0.577783453
## 167  0.503216276
## 168  0.623671998
## 169  0.413537040
## 170  0.103966126
## 171  0.028752137
## 172  0.445181109
## 173  1.110484137
## 174  0.136256276
## 175  0.470130453
## 176  0.445181109
## 177  1.468425384
## 178  0.158415866
## 179  0.547462984
## 180  0.117419844
## 181  0.027396613
## 182  1.077701342
## 183  0.803322633
## 184  1.441445420
## 185  0.978670926
## 186  0.470388702
## 187  0.493757562
## 188  0.404852369
## 189  0.318657428
## 190  0.495334665
## 191  0.280804090
## 192  0.239122182
## 193  0.470388702
## 194  0.165553197
## 195  3.189298607
## 196  0.462340179
## 197  0.707066876
## 198  0.158415866
## 199  0.323805101
## 200  0.416769828
## 201  0.366799250
## 202  2.731976902
## 203  0.970481692
## 204  1.777744133
## 205  1.122927355
## 206  0.981997309
## 207  0.750769715
## 208  4.153198546
## 209  0.153940301
## 210  0.658782742
## 211  0.167254681
## 212  1.187159046
## 213  1.287809916
## 214  1.486285484
## 215  1.404233286
## 216  0.073938153
## 217  0.719431616
## 218  0.032352182
## 219  0.288543687
## 220  0.155709594
## 221  0.588393889
## 222  0.865086314
## 223  0.666645815
## 224  1.220873672
## 225  0.577008196
## 226  0.333363716
## 227  0.658235262
## 228  0.716589317
## 229  0.821654582
## 230  0.134755933
## 231  0.153894297
## 232  0.285123919
## 233  0.220833298
## 234  0.232365168
## 235  0.346034111
## 236  0.052268265
## 237  2.579685336
## 238  0.892891793
## 239  0.075558719
## 240  1.190910588
## 241  0.937498221
## 242  1.515572116
## 243  1.528704789
## 244  0.713982808
## 245  3.415127061
## 246  0.357366229
## 247  0.633984630
## 248  0.151327581
## 249  0.015838706
## 250  2.017027380
## 251  0.588835541
## 252  0.904226600
## 253  1.168134198
## 254  0.225639216
## 255  1.356721492
## 256  0.842752664
## 257  0.415396683
## 258  1.110073675
## 259  1.637110888
## 260  3.415127061
## 261  1.491227630
## 262  1.053629854
## 263  1.396604004
## 264  0.630299635
## 265  0.724584010
## 266  0.503216276
## 267  0.854952997
## 268  0.052268265
## 269  0.022800726
## 270  1.059955238
## 271  0.001089822
## 272  0.355342533
## 273  1.190704928
## 274  3.507646581
## 275  1.170035213
## 276  0.667138327
## 277  1.100512461
## 278  0.216140445
## 279  0.306883475
## 280  0.489485296
## 281  0.213408030
## 282  1.490597097
## 283  2.504329634
## 284  0.577783453
## 285  1.526618160
## 286  1.747486303
## 287  0.953001101
## 288  0.437820124
## 289  1.441445420
## 290  0.623671998
## 291  0.549741721
## 292  0.815294167
## 293  1.066893114
## 294  0.671721558
## 295  3.415127061
## 296  1.670156294
## 297  0.543272358
## 298  2.896370731
## 299  0.698626136
## 300  0.415396683
## 301  1.991971070
## 302  1.157418608
## 303  0.386741675
## 304  3.310009509
## 305  1.996794885
## 306  0.427776414
## 307  3.310009509
## 308  0.703515938
## 309  0.358691784
## 310  0.701123914
## 311  2.815351471
## 312  0.850239612
## 313  1.729965445
## 314  1.226683974
## 315  0.523068335
## 316  0.037623283
## 317  2.815351471
## 318  0.820662050
## 319  0.623671998
## 320  1.201020343
## 321  2.052190974
## 322  1.187159046
## 323  0.479029515
## 324  0.724584010
## 325  0.658235262
## 326  1.172184097
## 327  0.357581245
## 328  0.015838706
## 329  0.362162563
## 330  0.684122371
## 331  0.548714817
## 332  0.434013562
## 333  0.208563087
## 334  0.497557398
## 335  0.884347423
## 336  0.043942509
## 337  0.707066876
## 338  0.539444528
## 339  0.609127815
## 340  0.080085603
## 341  0.304659731
## 342  3.322307631
## 343  0.165553197
## 344  0.658235262
## 345  0.566544904
## 346  1.107914618
## 347  0.287173730
## 348  0.239122182
## 349  2.368161425
## 350  0.588393889
## 351  0.036948522
## 352  1.811477691
## 353  1.174924105
## 354  1.560937332
## 355  0.659794515
## 356  0.287173730
## 357  1.053629854
## 358  1.263414885
## 359  2.151645882
## 360  1.226683974
## 361  1.346983880
## 362  3.799057653
## 363  0.042056117
## 364  0.728131367
## 365  0.815294167
## 366  0.225639216
## 367  0.115285906
## 368  0.658235262
## 369  2.616378741
## 370  0.157194399
## 371  0.566544904
## 372  0.039096461
## 373  0.437820124
## 374  0.117419844
## 375  2.770422703
## 376  0.687062718
## 377  0.022800726
## 378  0.379284965
## 379  0.527344645
## 380  2.334498143
## 381  0.285758454
## 382  0.359646377
## 383  0.707066876
## 384  0.407737076
## 385  0.037793027
## 386  2.242873920
## 387  0.315017820
## 388  2.096691899
## 389  0.577008196
## 390  1.009012347
## 391  0.479029515
## 392  0.355342533
## 393  0.842752664
## 394  1.027051718
## 395  1.845857130
## 396  1.214901190
## 397  0.011530691
## 398  0.305985645
## 399  0.470130453
## 400  0.658782742
## 401  0.658782742
## 402  0.535136329
## 403  0.135930076
## 404  0.998203105
## 405  1.314762618
## 406  0.667138327
## 407  0.535136329
## 408  0.150147101
## 409  2.520211539
## 410  1.013876279
## 411  0.840918284
## 412  0.384633411
## 413  0.884565758
## 414  0.293324572
## 415  1.001881822
## 416  3.054475397
## 417  3.507646581
## 418  0.500275063
## 419  3.576239934
## 420  0.135696256
## 421  0.366799250
## 422  0.036818496
## 423  1.110073675
## 424  0.446452371
## 425  0.549741721
## 426  0.719431616
## 427  0.852109405
## 428  0.188594606
## 429  0.027303468
## 430  0.340524422
## 431  0.293324572
## 432  3.124385895
## 433  1.623639099
## 434  0.481968167
## 435  1.001881822
## 436  2.492214577
## 437  0.179275307
## 438  2.314225608
## 439  0.287114538
## 440  1.493616794
## 441  0.103966126
## 442  0.476749465
## 443  0.135609229
## 444  0.948705186
## 445  0.577008196
## 446  2.731976902
## 447  0.794528340
## 448  4.622766433
## 449  0.246355196
## 450  1.405127797
## 451  0.014367429
## 452  1.040425558
## 453  0.528308867
## 454  0.499537261
## 455  0.509047179
## 456  0.014367429
## 457  0.187022105
## 458  2.714967253
## 459  2.406552335
## 460  0.135609229
## 461  0.706396771
## 462  0.080085603
## 463  0.136102021
## 464  0.821053485
## 465  1.434449302
## 466  2.579685336
## 467  0.198879618
## 468  0.527344645
## 469  0.553583672
## 470  0.135696256
## 471  0.080085603
## 472  3.072406374
## 473  0.038245188
## 474  1.046141325
## 475  3.661627957
## 476  2.089320486
## 477  0.006799768
## 478  2.408171901
## 479  0.140904163
## 480  0.032591635
## 481  2.160158014
## 482  0.315017820
## 483  0.378064153
## 484  0.458812377
## 485  2.237322461
## 486  0.017699806
## 487  0.649478084
## 488  1.102444376
## 489  3.054475397
## 490  0.015243795
## 491  0.379717654
## 492  1.209904664
## 493  1.190910588
## 494  1.512042055
## 495  0.714013536
## 496  0.071426776
## 497  1.706074078
## 498  1.058676603
## 499  0.135696256
## 500  0.105192547
## 501  0.318657428
## 502  0.253902069
## 503  0.661433528
## 504  0.899949739
## 505  0.834568763
## 506  0.189297089
## 507  0.918151131
## 508  1.016683607
## 509  0.402645419
## 510  1.503614411
## 511  0.151430991
## 512  0.208097698
## 513  2.130988752
## 514  0.075558719
## 515  1.752276422
## 516  1.434449302
## 517  0.305985645
## 518  1.122658897
## 519  0.045824787
## 520  0.017699806
## 521  0.784073905
## 522  0.574203941
## 523  0.250821093
## 524  1.671248374
## 525  0.075558719
## 526  0.888933137
## 527  1.198281063
## 528  0.179275307
## 529  0.643840983
## 530  0.057484310
## 531  0.582522572
## 532  0.041255386
## 533  0.630299635
## 534  1.015260554
## 535  0.866783765
## 536  0.060191047
## 537  0.171115837
## 538  0.499537261
## 539  0.880726615
## 540  1.079652122
## 541  0.746547215
## 542  1.036406525
## 543  0.486589067
## 544  2.151078744
## 545  0.619429928
## 546  0.329892739
## 547  0.714479891
## 548  0.153940301
## 549  1.368747933
## 550  1.036406525
## 551  2.138383165
## 552  0.645986454
## 553  0.175491482
## 554  3.507646581
## 555  0.459540718
## 556  0.404852369
## 557  0.153940301
## 558  1.926784882
## 559  1.032998241
## 560  1.533664226
## 561  0.136351319
## 562  0.873501884
## 563  0.649827342
## 564  0.178141124
## 565  3.556497624
## 566  2.684798499
## 567  0.470130453
## 568  0.903722236
## 569  0.103966126
## 570  0.220833298
## 571  0.480069015
## 572  0.437820124
## 573  1.493616794
## 574  0.982252035
## 575  0.825396374
## 576  0.098918927
## 577  2.458386651
## 578  3.213925280
## 579  0.246464475
## 580  0.700332854
## 581  0.922215549
## 582  0.553840496
## 583  1.471102595
## 584  0.379284965
## 585  0.017938438
## 586  0.415396683
## 587  3.322307631
## 588  0.639317407
## 589  0.493757562
## 590  0.701123914
## 591  0.801943724
## 592  0.136351319
## 593  0.032887372
## 594  0.167547827
## 595  0.581228831
## 596  2.145279850
## 597  0.873501884
## 598  0.561504066
## 599  0.842266155
## 600  0.076946305
## 601  0.750769715
## 602  0.063377723
## 603  1.769224769
## 604  0.222179742
## 605  0.146510220
## 606  0.401621653
## 607  3.032851757
## 608  1.757450633
## 609  1.257586464
## 610  0.043833095
## 611  0.146510220
## 612  0.013752183
## 613  0.834568763
## 614  1.396604004
## 615  0.229736390
## 616  0.130877016
## 617  0.258322232
## 618  0.449969660
## 619  0.054723888
## 620  1.929286100
## 621  0.093350011
## 622  0.581228831
## 623  0.935240357
## 624  2.458386651
## 625  0.323805101
## 626  0.209530314
## 627  4.481939062
## 628  0.437820124
## 629  2.368161425
## 630  1.317112712
## 631  0.040871394
## 632  0.001826968
## 633  0.519435828
## 634  0.499537261
## 635  1.326596046
## 636  0.649478084
## 637  1.843083979
## 638  1.148107854
## 639  0.151430991
## 640  0.372427218
## 641  0.105192547
## 642  2.324452637
## 643  1.987138390
## 644  0.982252035
## 645  0.391137076
## 646  0.509047179
## 647  0.288543687
## 648  0.021848412
## 649  2.474057640
## 650  0.143155934
## 651  0.562777941
## 652  0.060191047
## 653  0.555918120
## 654  0.581919797
## 655  0.865086314
## 656  0.447573225
## 657  0.748551018
## 658  0.121142504
## 659  1.612343721
## 660  0.150147101
## 661  1.394331140
## 662  1.157567363
## 663  0.369892687
## 664  1.757450633
## 665  0.076946305
## 666  1.039936983
## 667  0.371823533
## 668  0.117419844
## 669  0.649478084
## 670  1.440562962
## 671  1.324617906
## 672  0.331962451
## 673  2.815351471
## 674  0.528308867
## 675  0.850239612
## 676  1.083347647
## 677  0.081841687
## 678  4.024604818
## 679  0.474432540
## 680  0.379284965
## 681  2.098082712
## 682  1.153761321
## 683  0.306883475
## 684  4.228122574
## 685  1.503444459
## 686  0.561992254
## 687  1.310792720
## 688  1.102444376
## 689  2.836537793
## 690  0.684039182
## 691  1.623639099
## 692  0.794896999
## 693  4.124976268
## 694  1.310792720
## 695  1.083347647
## 696  1.122927355
## 697  0.523068335
## 698  1.468425384
## 699  0.413537040
## 700  0.684122371
## 701  0.398768838
## 702  0.031649536
## 703  2.458386651
## 704  1.182253328
## 705  0.630299635
## 706  0.535177780
## 707  0.267405040
## 708  1.987138390
## 709  0.495334665
## 710  0.388415242
## 711  0.179758939
## 712  0.274470668
## 713  0.123270397
## 714  0.904269137
## 715  1.046029528
## 716  0.453107248
## 717  0.453120480
## 718  0.480069015
## 719  1.011647432
## 720  1.847682126
## 721  0.143155934
## 722  1.556012780
## 723  0.922215549
## 724  0.316445878
## 725  0.496444766
## 726  2.156095989
## 727  1.556012780
## 728  1.415448407
## 729  3.180867873
## 730  0.935240357
## 731  0.082627432
## 732  1.322349630
## 733  2.537152974
## 734  0.253537269
## 735  0.834568763
## 736  0.453107248
## 737  0.558596044
## 738  0.526162369
## 739  0.627641703
## 740  0.190931133
## 741  0.559291496
## 742  0.295359640
## 743  0.191468206
## 744  1.752276422
## 745  0.151327581
## 746  0.216140445
## 747  1.847682126
## 748  0.168478919
## 749  1.539884346
## 750  0.117419844
## 751  1.016090485
## 752  1.419842118
## 753  0.558596044
## 754  0.803311100
## 755  1.385166629
## 756  0.136256276
## 757  1.174924105
## 758  1.747486303
## 759  1.591524113
## 760  0.136256276
## 761  1.483510549
## 762  1.157418608
## 763  0.208008790
## 764  0.561504066
## 765  0.158415866
## 766  0.186637427
## 767  0.588393889
## 768  1.996794885
## 769  3.915872192
## 770  0.776394683
## 771  0.904226600
## 772  0.201226697
## 773  0.189297089
## 774  0.822068686
## 775  2.684798499
## 776  0.812463246
## 777  1.937155152
## 778  0.232365168
## 779  0.562777941
## 780  0.043833095
## 781  1.182779531
## 782  0.479029515
## 783  1.129153579
## 784  0.067631784
## 785  4.228122574
## 786  0.951164036
## 787  1.366837243
## 788  0.472737421
## 789  1.114262562
## 790  0.476579118
## 791  3.285050082
## 792  0.285123919
## 793  0.539444528
## 794  0.639994999
## 795  2.051436389
## 796  0.506551787
## 797  2.334498143
## 798  1.048792848
## 799  2.408171901
## 800  0.835077735
## 801  0.164717893
## 802  0.176873724
## 803  0.277055008
## 804  0.495334665
## 805  0.741453879
## 806  2.017027380
## 807  0.140904163
## 808  0.677244420
## 809  0.125740104
## 810  0.144346743
## 811  0.740896443
## 812  1.368747933
## 813  0.970481692
## 814  0.186777909
## 815  1.217997571
## 816  0.099529712
## 817  1.866195825
## 818  1.062880591
## 819  1.322349630
## 820  0.396585188
## 821  1.356721492
## 822  0.058755686
## 823  3.124385895
## 824  0.006799768
## 825  0.698626136
## 826  0.340524422
## 827  0.233628137
## 828  0.992965476
## 829  0.140904163
## 830  2.237322461
## 831  0.714479891
## 832  0.011530691
## 833  0.754350292
## 834  2.693816192
## 835  1.102444376
## 836  1.670897902
## 837  0.273559192
## 838  0.526162369
## 839  2.130988752
## 840  0.918151131
## 841  2.249038960
## 842  0.407737076
## 843  0.937498221
## 844  0.250821093
## 845  0.084069676
## 846  0.080085603
## 847  0.133667650
## 848  0.716589317
## 849  0.527344645
## 850  0.936134029
## 851  0.777955157
## 852  1.400496638
## 853  1.784873095
## 854  0.052268265
## 855  0.652297223
## 856  7.623651009
## 857  1.612343721
## 858  0.743574806
## 859  0.244398194
## 860  0.175491482
## 861  0.509357526
## 862  1.777744133
## 863  0.704965195
## 864  0.875193148
## 865  0.734665123
## 866  0.643840983
## 867  0.179275307
## 868  0.043833095
## 869  1.190910588
## 870  2.818195567
## 871  1.114262562
## 872  1.317720612
## 873  2.002076909
## 874  0.102328242
## 875  0.785200634
## 876  0.815548781
## 877  0.655354359
## 878  0.951164036
## 879  0.472054125
## 880  1.752276422
## 881  1.493616794
## 882  2.681197138
## 883  0.036818496
## 884  0.820662050
## 885  0.736940910
## 886  0.736940910
## 887  0.041255386
## 888  0.280804090
## 889  0.175491482
## 890  1.939170033
## 891  1.526618160
## 892  0.748551018
## 893  3.032851757
## 894  3.661627957
## 895  0.498834102
## 896  0.680437590
## 897  1.633118564
## 898  2.520211539
## 899  0.357366229
## 900  0.461146199
## 901  5.221403526
## 902  0.888933137
## 903  0.109479436
## 904  0.555918120
## 905  0.543218021
## 906  0.174159824
## 907  0.865086314
## 908  0.402645419
## 909  1.894023772
## 910  0.776394683
## 911  0.445181109
## 912  0.918151131
## 913  1.585337873
## 914  0.849525422
## 915  0.057484310
## 916  0.727592632
## 917  0.270531487
## 918  0.992866499
## 919  0.468365050
## 920  0.970481692
## 921  4.481939062
## 922  0.075558719
## 923  0.794528340
## 924  3.904830297
## 925  1.518899647
## 926  0.404646826
## 927  1.419842118
## 928  0.713982808
## 929  0.723272147
## 930  0.921192825
## 931  0.151327581
## 932  2.052190974
## 933  1.053629854
## 934  6.102627381
## 935  0.163099413
## 936  0.538684149
## 937  1.046141325
## 938  1.174434808
## 939  0.243497971
## 940  0.324834636
## 941  3.415127061
## 942  0.186737973
## 943  0.714013536
## 944  0.227629296
## 945  0.633984630
## 946  2.458386651
## 947  1.053629854
## 948  0.585177464
## 949  0.366799250
## 950  0.948705186
## 951  0.178330334
## 952  1.129153579
## 953  1.157567363
## 954  1.637110888
## 955  1.756523065
## 956  1.217997571
## 957  1.471102595
## 958  0.503216276
## 959  0.506470063
## 960  0.009702277
## 961  0.136102021
## 962  1.378380283
## 963  3.904830297
## 964  0.998630512
## 965  0.427776414
## 966  1.264955308
## 967  3.576239934
## 968  3.032851757
## 969  2.130988752
## 970  1.434169793
## 971  0.494415120
## 972  0.208097698
## 973  4.124976268
## 974  0.590636768
## 975  0.175679749
## 976  1.226683974
## 977  0.029254099
## 978  0.621444027
## 979  0.540298517
## 980  0.404646826
## 981  1.528704789
## 982  3.661627957
## 983  0.794896999
## 984  0.816184893
## 985  0.379647044
## 986  0.476579118
## 987  0.476579118
## 988  0.319234507
## 989  2.714967253
## 990  0.643840983
## 991  0.216920318
## 992  0.042056117
## 993  1.046141325
## 994  0.010014175
## 995  2.688911011
## 996  2.237322461
## 997  1.257586464
## 998  0.329129194
## 999  1.417396443
## 1000 0.085791682
```
---
# Bootstrap it:


```r
skewed_data %&gt;% 
  sample_n(1000, replace = TRUE) %&gt;%
  summarize(mean(samples))
```

```
##   mean(samples)
## 1     0.9428421
```


```r
skewed_data %&gt;% 
  sample_n(1000, replace = TRUE) %&gt;%
  summarize(mean(samples))
```

```
##   mean(samples)
## 1     0.9406333
```
---
class: center, middle, invert
# modelr
---
# Bootstrap it!

`resample_bootstrap` takes one new sample

--
... but the output object is complicated!

--


```r
one_boot &lt;- skewed_data %&gt;% resample_bootstrap()

str(one_boot)
```

```
## List of 2
##  $ data:'data.frame':	1000 obs. of  1 variable:
##   ..$ samples: num [1:1000] 0.175 2.614 0.157 1.082 1.107 ...
##  $ idx : int [1:1000] 717 330 758 577 490 660 506 276 748 967 ...
##  - attr(*, "class")= chr "resample"
```

---
# Bootstrap it!

`$idx` has the resampling indices

`$data` is a "pointer" to the original dataset.


```r
head(one_boot$data)
```

```
##     samples
## 1 0.1754806
## 2 2.6136355
## 3 0.1571944
## 4 1.0817614
## 5 1.1072211
## 6 1.4414454
```

```r
head(skewed_data)
```

```
##     samples
## 1 0.1754806
## 2 2.6136355
## 3 0.1571944
## 4 1.0817614
## 5 1.1072211
## 6 1.4414454
```

---
# Bootstrap it!

If you want the actual shuffled dataset, you need to "coerce" it:


```r
data.frame(one_boot)
```

```
##            samples
## 717    0.407662166
## 330    1.131308877
## 758    1.784873095
## 577    0.687062718
## 490    0.645986454
## 660    0.353365269
## 506    1.741067506
## 276    0.017938438
## 748    0.185947930
## 967    2.096691899
## 525    0.046891015
## 20     0.045824787
## 256    1.135169944
## 128    2.537152974
## 161    2.454270812
## 388    2.368161425
## 490.1  0.645986454
## 926    1.143392957
## 975    0.013284649
## 367    0.759419310
## 756    1.114262562
## 311    0.452579273
## 982    3.041795455
## 612    0.208563087
## 168    1.822414595
## 150    1.926784882
## 761    0.509357526
## 211    0.446452371
## 268    0.147414907
## 423    0.036948522
## 179    0.179275307
## 221    0.294180283
## 650    2.886461086
## 109    3.799057653
## 516    2.249038960
## 585    0.639317407
## 126    0.404646826
## 499    0.527344645
## 343    0.243491950
## 339    0.042056117
## 651    0.170393142
## 532    1.486285484
## 286    0.286772989
## 736    0.535177780
## 70     0.691084929
## 853    0.256739145
## 833    0.658782742
## 449    0.462340179
## 955    1.929286100
## 209    0.502343941
## 142    2.248287028
## 359    3.749467289
## 531    0.867594435
## 993    0.873982908
## 952    0.701123914
## 731    0.222569156
## 452    0.153894297
## 383    0.043942509
## 179.1  0.179275307
## 848    0.713307685
## 129    0.434013562
## 716    0.978670926
## 342    0.193604051
## 344    0.087085731
## 70.1   0.691084929
## 991    0.220803665
## 747    0.677244420
## 381    1.360035279
## 373    1.293273596
## 156    0.441340476
## 301    1.626401032
## 826    0.619429928
## 566    0.093350011
## 824    0.004226355
## 782    0.472054125
## 591    0.948705186
## 582    0.639994999
## 853.1  0.256739145
## 158    0.163295326
## 690    0.794896999
## 842    0.319234507
## 559    0.130877016
## 194    0.010014175
## 476    0.411013667
## 831    0.548714817
## 898    0.562777941
## 646    1.419842118
## 137    0.988847566
## 203    0.041381562
## 913    1.264955308
## 147    1.490597097
## 590    0.630299635
## 322    1.062821315
## 201    0.785200634
## 334    0.850239612
## 510    1.032998241
## 423.1  0.036948522
## 426    2.681197138
## 286.1  0.286772989
## 400    0.680437590
## 187    1.937155152
## 904    2.052190974
## 683    1.471102595
## 175    0.707915810
## 148    0.121385743
## 953    1.546701163
## 239    3.661627957
## 915    0.324834636
## 728    2.035801854
## 225    0.021848412
## 805    2.098082712
## 24     0.027145800
## 761.1  0.509357526
## 257    5.221403526
## 530    1.263414885
## 282    0.052268265
## 651.1  0.170393142
## 940    0.164717893
## 845    0.175679749
## 780    0.115285906
## 317    0.437228136
## 723    0.043833095
## 333    0.024541760
## 128.1  2.537152974
## 161.1  2.454270812
## 582.1  0.639994999
## 245    0.539444528
## 387    0.262144905
## 603    0.582522572
## 735    0.001089822
## 739    0.232365168
## 735.1  0.001089822
## 823    1.001881822
## 929    2.616378741
## 808    1.086370176
## 417    3.904830297
## 784    1.772533044
## 240    1.344692917
## 820    0.248972136
## 417.1  3.904830297
## 682    0.033746509
## 366    0.903722236
## 873    1.374787998
## 135    0.667138327
## 163    0.981997309
## 729    2.896370731
## 557    0.073187805
## 569    0.698394093
## 371    0.762415432
## 91     1.209904664
## 431    0.495087155
## 142.1  2.248287028
## 52     0.109201627
## 662    0.950306172
## 688    0.480069015
## 599    1.483510549
## 691    0.106000623
## 650.1  2.886461086
## 734    2.592504184
## 82     4.228122574
## 758.1  1.784873095
## 907    0.032788710
## 271    1.001811117
## 978    0.703912002
## 881    0.543218021
## 139    0.476749465
## 503    0.427776414
## 254    0.746547215
## 90     0.413537040
## 465    2.474057640
## 864    2.409361685
## 512    1.257586464
## 68     1.845857130
## 662.1  0.950306172
## 881.1  0.543218021
## 327    0.202040308
## 833.1  0.658782742
## 3      0.157194399
## 414    0.197938525
## 557.1  0.073187805
## 479    0.285123919
## 541    0.416661676
## 884    0.135609229
## 791    0.408220127
## 105    1.157418608
## 790    0.524226864
## 677    0.992866499
## 918    0.082160977
## 646.1  1.419842118
## 442    0.331923874
## 608    1.987138390
## 285    0.336091680
## 651.2  0.170393142
## 534    0.561992254
## 654    1.272807933
## 576    2.520211539
## 26     0.355303450
## 596    0.239122182
## 546    0.566544904
## 406    3.213925280
## 41     0.763777071
## 723.1  0.043833095
## 332    0.892891793
## 985    1.939170033
## 682.1  0.033746509
## 320    0.102050962
## 371.1  0.762415432
## 198    0.280804090
## 398    0.906935974
## 934    0.497340265
## 930    2.818195567
## 141    0.493511097
## 306    0.638374234
## 730    1.205671685
## 119    0.445181109
## 919    0.134755933
## 697    0.076946305
## 107    0.366799250
## 410    0.842752664
## 824.1  0.004226355
## 342.1  0.193604051
## 101    0.081505625
## 850    0.309718051
## 617    0.143155934
## 605    0.206060236
## 312    0.343181555
## 558    0.727592632
## 170    0.890788757
## 987    0.549741721
## 913.1  1.264955308
## 18     0.486589067
## 58     0.509484494
## 272    0.159970765
## 328    0.229736390
## 46     1.672837466
## 799    0.921192825
## 208    0.208097698
## 764    2.046134356
## 549    4.024604818
## 280    2.359284071
## 262    0.037793027
## 378    0.461146199
## 259    0.678844838
## 973    0.951164036
## 897    0.607004926
## 175.1  0.707915810
## 833.2  0.658782742
## 32     0.393753148
## 816    0.577783453
## 664    0.953001101
## 572    0.498834102
## 324    0.558596044
## 838    2.663332643
## 20.1   0.045824787
## 118    0.854952997
## 59     0.535136329
## 265    1.766113797
## 466    0.528911433
## 202    0.459540718
## 111    2.150348710
## 540    0.250878270
## 512.1  1.257586464
## 330.1  1.131308877
## 450    3.239167832
## 831.1  0.548714817
## 358    0.891117420
## 708    0.559291496
## 401    0.741453879
## 173    1.752276422
## 243    1.468425384
## 350    0.803311100
## 848.1  0.713307685
## 273    0.158415866
## 832    0.772333822
## 382    0.316445878
## 219    0.740672083
## 156.1  0.441340476
## 155    4.130709400
## 967.1  2.096691899
## 136    0.123270397
## 550    0.803322633
## 173.1  1.752276422
## 494    0.543880262
## 874    0.084793604
## 894    0.171115837
## 313    0.360791456
## 191    1.324617906
## 323    0.067149907
## 348    0.002866932
## 286.2  0.286772989
## 365    0.174159824
## 780.1  0.115285906
## 562    0.103966126
## 711    1.396604004
## 957    1.554676631
## 922    0.528308867
## 794    0.480499918
## 734.1  2.592504184
## 26.1   0.355303450
## 718    0.136102021
## 602    1.871512717
## 701    1.227976498
## 752    0.720221861
## 478    1.047650529
## 7      1.296669651
## 559.1  0.130877016
## 742    0.873501884
## 527    0.674244823
## 779    1.355466056
## 140    1.082989913
## 984    1.897945888
## 488    1.027051718
## 164    0.015838706
## 763    1.385166629
## 660.1  0.353365269
## 722    0.467919919
## 358.1  0.891117420
## 197    2.242873920
## 887    0.067009924
## 201.1  0.785200634
## 207    3.581715009
## 394    2.247791413
## 832.1  0.772333822
## 686    1.087403638
## 449.1  0.462340179
## 698    0.621444027
## 25     1.140609952
## 927    0.870895087
## 348.1  0.002866932
## 607    0.006799768
## 873.1  1.374787998
## 993.1  0.873982908
## 831.2  0.548714817
## 419    1.346983880
## 355    1.507057735
## 670    0.479029515
## 868    1.369379140
## 650.2  2.886461086
## 939    0.500275063
## 634    0.159380778
## 230    2.348433273
## 767    0.274470668
## 524    2.116026360
## 34     1.018265482
## 633    0.190931133
## 712    2.448834291
## 674    0.304659731
## 752.1  0.720221861
## 672    0.187022105
## 9      1.066893114
## 839    0.136351319
## 192    2.017027380
## 414.1  0.197938525
## 364    1.317720612
## 184    0.125437525
## 330.2  1.131308877
## 914    0.401621653
## 429    0.822068686
## 435    0.959037613
## 480    0.961431220
## 696    0.135930076
## 446    0.904226600
## 849    0.032591635
## 268.1  0.147414907
## 289    1.133281304
## 485    1.341271735
## 929.1  2.616378741
## 27     0.176873724
## 277    0.493757562
## 149    2.714967253
## 103    0.472737421
## 551    0.808635802
## 538    0.987294693
## 240.1  1.344692917
## 399    0.029254099
## 323.1  0.067149907
## 251    1.208275765
## 409    0.063377723
## 159    0.557293572
## 483    0.186777909
## 873.2  1.374787998
## 865    2.130988752
## 891    0.481968167
## 785    1.036406525
## 151    1.674720571
## 27.1   0.176873724
## 964    0.439408743
## 997    0.510027202
## 952.1  0.701123914
## 126.1  0.404646826
## 1000   1.153761321
## 845.1  0.175679749
## 543    2.256918600
## 479.1  0.285123919
## 400.1  0.680437590
## 22     0.357366229
## 759    0.999585714
## 682.2  0.033746509
## 829    1.253555122
## 696.1  0.135930076
## 410.1  0.842752664
## 821    0.136256276
## 947    1.436620432
## 683.1  1.471102595
## 820.1  0.248972136
## 842.1  0.319234507
## 876    0.792100837
## 826.1  0.619429928
## 202.1  0.459540718
## 585.1  0.639317407
## 52.1   0.109201627
## 495    1.122658897
## 929.2  2.616378741
## 802    0.404852369
## 879    0.453120480
## 148.1  0.121385743
## 504    4.153198546
## 406.1  3.213925280
## 221.1  0.294180283
## 973.1  0.951164036
## 328.1  0.229736390
## 951    1.443959944
## 619    2.522321889
## 351    1.533664226
## 498    0.326501522
## 170.1  0.890788757
## 15     2.324452637
## 782.1  0.472054125
## 817    0.089286406
## 320.1  0.102050962
## 423.2  0.036948522
## 580    1.378380283
## 305    0.548970089
## 139.1  0.476749465
## 551.1  0.808635802
## 841    0.880726615
## 480.1  0.961431220
## 248    1.368747933
## 334.1  0.850239612
## 417.2  3.904830297
## 260    0.132533477
## 102    0.009702277
## 176    0.777955157
## 115    0.144346743
## 547    0.449969660
## 149.1  2.714967253
## 100    1.016090485
## 574    0.329892739
## 703    1.633118564
## 460    0.355342533
## 865.1  2.130988752
## 811    0.801135304
## 490.2  0.645986454
## 80     2.959523856
## 763.1  1.385166629
## 609    0.343907096
## 726    0.588393889
## 828    1.015838965
## 991.1  0.220803665
## 733    3.032851757
## 394.1  2.247791413
## 799.1  0.921192825
## 950    0.275739799
## 532.1  1.486285484
## 889    3.081010476
## 495.1  1.122658897
## 31     0.992551410
## 975.1  0.013284649
## 750    0.555918120
## 945    0.294431223
## 350.1  0.803311100
## 279    0.384633411
## 228    1.654724393
## 218    0.102328242
## 932    1.083347647
## 3.1    0.157194399
## 157    1.405127797
## 71     0.117419844
## 531.1  0.867594435
## 666    0.587379945
## 308    0.356035684
## 834    1.256709288
## 497    0.627641703
## 842.2  0.319234507
## 902    0.165553197
## 690.1  0.794896999
## 891.1  0.481968167
## 598    7.623651009
## 603.1  0.582522572
## 843    0.457981999
## 729.1  2.896370731
## 261    0.998630512
## 964.1  0.439408743
## 847    0.714013536
## 310    5.617662351
## 715    2.756452566
## 806    1.172184097
## 724    0.354452082
## 1000.1 1.153761321
## 656    0.643840983
## 868.1  1.369379140
## 644    0.237247282
## 189    1.059955238
## 392    0.286467500
## 666.1  0.587379945
## 72     0.821654582
## 925    0.218680529
## 142.2  2.248287028
## 329    0.272870515
## 338    1.102444376
## 620    1.518899647
## 949    1.326596046
## 2      2.613635452
## 867    0.666645815
## 626    1.100512461
## 957.1  1.554676631
## 205    1.847682126
## 84     4.622766433
## 106    0.144106602
## 422    1.168134198
## 465.1  2.474057640
## 446.1  0.904226600
## 311.1  0.452579273
## 719    2.089320486
## 676    0.871857429
## 312.1  0.343181555
## 607.1  0.006799768
## 652    0.100592652
## 816.1  0.577783453
## 784.1  1.772533044
## 255    1.670156294
## 2.1    2.613635452
## 380    0.103917552
## 939.1  0.500275063
## 743    0.750769715
## 883    0.269762013
## 577.1  0.687062718
## 485.1  1.341271735
## 189.1  1.059955238
## 325    0.372427218
## 78     0.652297223
## 535    0.915482689
## 986    1.831024304
## 448    0.117435500
## 776    0.190366267
## 102.1  0.009702277
## 663    1.356721492
## 745    0.225639216
## 154    0.099529712
## 667    1.190704928
## 113    1.771769073
## 201.2  0.785200634
## 643    0.925064340
## 151.1  1.674720571
## 926.1  1.143392957
## 620.1  1.518899647
## 3.2    0.157194399
## 878    0.546198045
## 271.1  1.001811117
## 220    0.269486770
## 910    1.214901190
## 229    1.077701342
## 197.1  2.242873920
## 233    0.786105788
## 578    0.711989122
## 838.1  2.663332643
## 363    0.316381000
## 348.2  0.002866932
## 595    0.661080801
## 51     0.098783354
## 614    0.171626490
## 961    0.776394683
## 304    0.246355196
## 385    1.434169793
## 114    0.256572300
## 99     0.163099413
## 221.2  0.294180283
## 134    0.360203965
## 464    1.182779531
## 679    1.839982634
## 792    0.784073905
## 283    0.447573225
## 695    0.982252035
## 402    0.292155940
## 458    0.102374073
## 781    1.400496638
## 781.1  1.400496638
## 308.1  0.356035684
## 676.1  0.871857429
## 454    0.553583672
## 335    0.597174389
## 528    0.716589317
## 393    0.234312725
## 634.1  0.159380778
## 926.2  1.143392957
## 421    2.688381793
## 114.1  0.256572300
## 263    1.153764849
## 481    2.319788655
## 422.1  1.168134198
## 972    0.466920977
## 740    2.002076909
## 569.1  0.698394093
## 214    0.264913647
## 842.3  0.319234507
## 660.2  0.353365269
## 350.2  0.803311100
## 836    0.734995278
## 892    0.915311201
## 566.1  0.093350011
## 75     2.051436389
## 261.1  0.998630512
## 433    0.001826968
## 210    0.338359317
## 389    1.226683974
## 21     2.145279850
## 639    1.526618160
## 50     0.951720621
## 75.1   2.051436389
## 390    1.190910588
## 230.1  2.348433273
## 291    0.884347423
## 12     1.334697981
## 457    0.503216276
## 593    0.649827342
## 550.1  0.803322633
## 756.1  1.114262562
## 602.1  1.871512717
## 623    0.451905190
## 632    0.825396374
## 793    0.704965195
## 383.1  0.043942509
## 826.2  0.619429928
## 629    4.027965745
## 217    0.845429733
## 402.1  0.292155940
## 62     0.581919797
## 544    0.381286373
## 503.1  0.427776414
## 590.1  0.630299635
## 957.2  1.554676631
## 789    0.029067968
## 956    0.523068335
## 74     0.177189083
## 89     0.471510737
## 688.1  0.480069015
## 801    0.992965476
## 626.1  1.100512461
## 144    1.009012347
## 38     0.233628137
## 251.1  1.208275765
## 199    0.153940301
## 584    1.148107854
## 877    0.287173730
## 719.1  2.089320486
## 468    0.501332175
## 182    0.590636768
## 878.1  0.546198045
## 186    0.748551018
## 119.1  0.445181109
## 569.2  0.698394093
## 560    1.750162098
## 811.1  0.801135304
## 393.1  0.234312725
## 350.3  0.803311100
## 846    0.061343517
## 791.1  0.408220127
## 396    2.237322461
## 68.1   1.845857130
## 728.1  2.035801854
## 663.1  1.356721492
## 853.2  0.256739145
## 876.1  0.792100837
## 977    0.060191047
## 255.1  1.670156294
## 220.1  0.269486770
## 477    0.285758454
## 372    2.871712953
## 463    1.769224769
## 837    1.086446335
## 977.1  0.060191047
## 959    1.122927355
## 391    1.415448407
## 634.2  0.159380778
## 971    0.470130453
## 199.1  0.153940301
## 363.1  0.316381000
## 964.2  0.439408743
## 965    1.772692883
## 819    0.684039182
## 72.1   0.821654582
## 294    0.089417480
## 429.1  0.822068686
## 619.1  2.522321889
## 995    2.722634101
## 855    0.032887372
## 445    1.094355491
## 805.1  2.098082712
## 627    3.189298607
## 829.1  1.253555122
## 462    0.476579118
## 36     1.996794885
## 452.1  0.153894297
## 44     0.582884860
## 667.1  1.190704928
## 450.1  3.239167832
## 49     3.507646581
## 77     0.378064153
## 742.1  0.873501884
## 26.2   0.355303450
## 209.1  0.502343941
## 247    0.329129194
## 343.1  0.243491950
## 449.2  0.462340179
## 881.2  0.543218021
## 684    2.740480253
## 380.1  0.103917552
## 275    0.038245188
## 15.1   2.324452637
## 630    1.729965445
## 766    0.839095137
## 12.1   1.334697981
## 356    3.147202777
## 361    2.538268970
## 989    2.522123800
## 3.3    0.157194399
## 268.2  0.147414907
## 462.1  0.476579118
## 470    0.295359640
## 578.1  0.711989122
## 874.1  0.084793604
## 71.1   0.117419844
## 477.1  0.285758454
## 484    1.512042055
## 501    0.754350292
## 326    0.151430991
## 695.1  0.982252035
## 143    1.843083979
## 611    0.724584010
## 373.1  1.293273596
## 306.1  0.638374234
## 674.1  0.304659731
## 639.1  1.526618160
## 922.1  0.528308867
## 478.1  1.047650529
## 190    0.700332854
## 578.2  0.711989122
## 224    1.747486303
## 96     0.971578570
## 367.1  0.759419310
## 877.1  0.287173730
## 841.1  0.880726615
## 150.1  1.926784882
## 589    0.698626136
## 994    0.155709594
## 982.1  3.041795455
## 400.2  0.680437590
## 728.2  2.035801854
## 430    0.514267338
## 301.1  1.626401032
## 203.1  0.041381562
## 330.3  1.131308877
## 264    0.706396771
## 214.1  0.264913647
## 559.2  0.130877016
## 653    0.842266155
## 487    0.376562483
## 853.3  0.256739145
## 648    1.009048202
## 426.1  2.681197138
## 66     0.306883475
## 15.2   2.324452637
## 461    2.138383165
## 251.2  1.208275765
## 916    2.688911011
## 481.1  2.319788655
## 618    0.775054175
## 587    0.246464475
## 863    2.119553914
## 257.1  5.221403526
## 972.1  0.466920977
## 626.2  1.100512461
## 807    3.244034100
## 809    0.655354359
## 18.1   0.486589067
## 219.1  0.740672083
## 541.1  0.416661676
## 503.2  0.427776414
## 567    0.012824874
## 301.2  1.626401032
## 948    0.561504066
## 346    3.576239934
## 566.2  0.093350011
## 707    0.195392270
## 68.2   1.845857130
## 88     0.836974906
## 903    0.896643956
## 781.2  1.400496638
## 14     0.437820124
## 596.1  0.239122182
## 129.1  0.434013562
## 893    0.167547827
## 917    0.166123614
## 248.1  1.368747933
## 848.2  0.713307685
## 212    4.481939062
## 663.2  1.356721492
## 899    0.439240434
## 790.1  0.524226864
## 489    0.060496549
## 106.1  0.144106602
## 955.1  1.929286100
## 492    0.574203941
## 437    0.553840496
## 419.1  1.346983880
## 930.1  2.818195567
## 710    0.105192547
## 118.1  0.854952997
## 58.1   0.509484494
## 352    1.317112712
## 268.3  0.147414907
## 427    1.638750356
## 979    1.556012780
## 116    0.109917106
## 304.1  0.246355196
## 743.1  0.750769715
## 14.1   0.437820124
## 229.1  1.077701342
## 62.1   0.581919797
## 655    1.560937332
## 752.2  0.720221861
## 815    0.015243795
## 677.1  0.992866499
## 341    0.015501904
## 333.1  0.024541760
## 518    0.815548781
## 804    0.186637427
## 36.1   1.996794885
## 417.3  3.904830297
## 801.1  0.992965476
## 345    3.822600325
## 540.1  0.250878270
## 205.1  1.847682126
## 704    0.529382661
## 721    0.126195808
## 170.2  0.890788757
## 807.1  3.244034100
## 114.2  0.256572300
## 134.1  0.360203965
## 82.1   4.228122574
## 889.1  3.081010476
## 128.2  2.537152974
## 444    0.121142504
## 829.2  1.253555122
## 771    0.084069676
## 390.1  1.190910588
## 671    0.723272147
## 13     0.293324572
## 555    0.415396683
## 133    0.777885357
## 799.2  0.921192825
## 320.2  0.102050962
## 927.1  0.870895087
## 573    1.001264197
## 333.2  0.024541760
## 82.2   4.228122574
## 815.1  0.015243795
## 80.1   2.959523856
## 877.2  0.287173730
## 569.3  0.698394093
## 511    0.158888891
## 957.3  1.554676631
## 242    0.526162369
## 80.2   2.959523856
## 53     0.315017820
## 921    2.693816192
## 630.1  1.729965445
## 470.1  0.295359640
## 699    1.174924105
## 878.2  0.546198045
## 190.1  0.700332854
## 845.2  0.175679749
## 760    1.894023772
## 95     2.684798499
## 474    0.713982808
## 475    1.286748392
## 879.1  0.453120480
## 526    0.585177464
## 500    1.491227630
## 169    2.449940840
## 228.1  1.654724393
## 964.3  0.439408743
## 61     0.004291924
## 330.4  1.131308877
## 284    1.774761468
## 241    0.756747664
## 110    0.526836489
## 548    3.310009509
## 1      0.175480619
## 535.1  0.915482689
## 94     0.388415242
## 967.2  2.096691899
## 144.1  1.009012347
## 310.1  5.617662351
## 688.2  0.480069015
## 799.3  0.921192825
## 1000.2 1.153761321
## 313.1  0.360791456
## 689    1.157567363
## 590.2  0.630299635
## 846.1  0.061343517
## 394.2  2.247791413
## 48     1.440562962
## 491    0.453107248
## 310.2  5.617662351
## 126.2  0.404646826
## 658    6.102627381
## 106.2  0.144106602
## 297    0.371823533
## 776.1  0.190366267
## 8      0.379284965
## 729.2  2.896370731
## 676.2  0.871857429
## 585.2  0.639317407
## 49.1   3.507646581
## 339.1  0.042056117
## 870    1.011217073
## 31.1   0.992551410
## 569.4  0.698394093
## 299    0.216920318
## 884.1  0.135609229
## 521    0.150147101
## 125    0.011530691
## 69     0.167254681
## 420    0.027303468
## 578.3  0.711989122
## 862    0.506470063
## 558.1  0.727592632
## 421.1  2.688381793
## 924    0.821100235
## 595.1  0.661080801
## 403    1.527163541
## 477.2  0.285758454
## 774    1.048003047
## 150.2  1.926784882
## 864.1  2.409361685
## 212.1  4.481939062
## 709    1.019317893
## 116.1  0.109917106
## 31.2   0.992551410
## 487.1  0.376562483
## 377    0.097851987
## 11     0.489485296
## 382.1  0.316445878
## 764.1  2.046134356
## 747.1  0.677244420
## 740.1  2.002076909
## 674.2  0.304659731
## 508    1.201020343
## 608.1  1.987138390
## 8.1    0.379284965
## 372.1  2.871712953
## 304.2  0.246355196
## 373.2  1.293273596
## 87     0.227629296
## 583    1.202554578
## 182.1  0.590636768
## 327.1  0.202040308
## 624    0.547462984
## 143.1  1.843083979
## 453    0.623671998
## 450.2  3.239167832
## 938    0.937498221
## 472    0.082627432
## 182.2  0.590636768
## 853.4  0.256739145
## 472.1  0.082627432
## 240.2  1.344692917
## 141.1  0.493511097
## 5      1.107221105
## 51.1   0.098783354
## 223    0.922215549
## 964.4  0.439408743
## 151.2  1.674720571
## 383.2  0.043942509
## 72.2   0.821654582
## 480.2  0.961431220
## 754    1.724119056
## 564    0.323805101
## 756.2  1.114262562
## 355.1  1.507057735
## 115.1  0.144346743
## 905    0.794528340
## 777    0.935240357
## 134.2  0.360203965
## 489.1  0.060496549
## 194.1  0.010014175
## 215    0.340345592
## 74.1   0.177189083
## 776.2  0.190366267
```

---
# Bootstrap it:

The `bootstrap` function takes many resamplings.


```r
my_boots &lt;- skewed_data %&gt;% bootstrap(100)
my_boots
```

```
## # A tibble: 100 x 2
##    strap      .id  
##    &lt;list&gt;     &lt;chr&gt;
##  1 &lt;resample&gt; 001  
##  2 &lt;resample&gt; 002  
##  3 &lt;resample&gt; 003  
##  4 &lt;resample&gt; 004  
##  5 &lt;resample&gt; 005  
##  6 &lt;resample&gt; 006  
##  7 &lt;resample&gt; 007  
##  8 &lt;resample&gt; 008  
##  9 &lt;resample&gt; 009  
## 10 &lt;resample&gt; 010  
## # … with 90 more rows
```
---
# Let's plot it...


```r
ggplot(my_boots, aes(x = strap)) + 
  geom_histogram(aes(y = ..density..), bins = 10, fill = "cornflowerblue")
```

```
## Warning: Computation failed in `stat_bin()`:
## attempt to apply non-function
```

![](Bootstrapping_files/figure-html/unnamed-chunk-20-1.png)&lt;!-- --&gt;

---
# Calculate statistic first


```r
my_boots &lt;- my_boots %&gt;%
  mutate(
    boot_means = map_dbl(strap, ~mean(data.frame(.x)$samples)),
    boot_medians = map_dbl(strap, ~median(data.frame(.x)$samples))
  )

my_boots 
```

```
## # A tibble: 100 x 4
##    strap      .id   boot_means boot_medians
##    &lt;list&gt;     &lt;chr&gt;      &lt;dbl&gt;        &lt;dbl&gt;
##  1 &lt;resample&gt; 001        0.944        0.706
##  2 &lt;resample&gt; 002        0.912        0.659
##  3 &lt;resample&gt; 003        1.04         0.742
##  4 &lt;resample&gt; 004        0.983        0.722
##  5 &lt;resample&gt; 005        0.990        0.736
##  6 &lt;resample&gt; 006        0.988        0.678
##  7 &lt;resample&gt; 007        1.03         0.728
##  8 &lt;resample&gt; 008        0.984        0.710
##  9 &lt;resample&gt; 009        0.928        0.661
## 10 &lt;resample&gt; 010        1.02         0.744
## # … with 90 more rows
```

---
# THEN you can plot

![](Bootstrapping_files/figure-html/unnamed-chunk-22-1.png)&lt;!-- --&gt;
---
# THEN you can plot

![](Bootstrapping_files/figure-html/unnamed-chunk-23-1.png)&lt;!-- --&gt;

---
# Bootstrapped confidence intervals

What range catches 95% of our bootstrap **mean** estimates?


```r
my_boots %&gt;%
  pull(boot_means) %&gt;%
  quantile(c(0.025, 0.975))
```

```
##      2.5%     97.5% 
## 0.9347557 1.0346460
```

Recall the t-test confidence interval:


```r
my_test_2 %&gt;% select(lower_ci, upper_ci)
```

```
## # A tibble: 1 x 2
##   lower_ci upper_ci
##      &lt;dbl&gt;    &lt;dbl&gt;
## 1    0.919     1.04
```

---
# Bootstrapped confidence intervals

What range catches 95% of our bootstrap **median** estimates?


```r
my_boots %&gt;%
  pull(boot_medians) %&gt;%
  quantile(c(0.025, 0.975))
```

```
##      2.5%     97.5% 
## 0.6603338 0.7586637
```
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
